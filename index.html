<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pippi Voice - æ™ºæ…§èªéŸ³è¼¸å…¥</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2196F3">
    <link rel="stylesheet" href="src/style.css?v=1.0.2">
    <link rel="apple-touch-icon" href="public/icons/icon-192x192.png">
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js?v=1.0.2');
        }
    </script>
</head>
<body>
    <div id="app">
        <header>
            <div class="logo">
                <img src="public/icons/icon-192x192.png" alt="Pippi" class="header-icon">
                <div>
                    <h1>Pippi Voice</h1>
                    <small id="version-tag">v1.0.2</small>
                </div>
            </div>
            <button id="settings-btn" class="icon-btn">âš™ï¸</button>
        </header>

        <main>
            <div id="status-bar">
                <span id="connection-status" class="status-dot"></span>
                <span id="status-text">æº–å‚™å°±ç·’</span>
            </div>

            <div class="display-container">
                <div id="realtime-buffer" class="buffer-text" placeholder="å³æ™‚èªéŸ³è¾¨è­˜ä¸­..."></div>
                <div id="final-output" class="output-text" contenteditable="true" placeholder="æ ¼å¼åŒ–å¾Œçš„å…§å®¹å°‡é¡¯ç¤ºåœ¨é€™è£¡..."></div>
            </div>

            <div class="controls">
                <button id="mic-btn" class="mic-btn">
                    <span class="mic-icon">ğŸ¤</span>
                </button>
                <button id="format-btn" class="action-btn">âœ¨ è‡ªå‹•æ•´ç†</button>
                <button id="copy-btn" class="action-btn">ğŸ“‹ è¤‡è£½å…§å®¹</button>
            </div>
        </main>

        <!-- è¨­å®šå½ˆçª— -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <h2>è¨­å®š</h2>
                <div class="input-group">
                    <label for="api-key">Gemini API Key (<a href="https://aistudio.google.com/app/apikey" target="_blank">å–å¾—å…è²» Key</a>):</label>
                    <div class="password-wrapper">
                        <input type="password" id="api-key" placeholder="è¼¸å…¥æ‚¨çš„ API Key">
                        <button id="toggle-password" class="toggle-btn">ğŸ‘ï¸</button>
                    </div>
                </div>
                <div class="input-group">
                    <label for="model-select">æ¨¡å‹é¸æ“‡:</label>
                    <select id="model-select">
                        <option value="gemini-2.5-flash">Gemini 2.5 Flash (æ¨è–¦)</option>
                        <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                        <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="custom-dict">è‡ªå®šç¾©è©åº« (æ¯è¡Œä¸€å€‹):</label>
                    <textarea id="custom-dict" placeholder="ä¾‹å¦‚ï¼š
OpenClaw
Pippi
Darren Wu" rows="4"></textarea>
                </div>
                <button id="save-settings" class="primary-btn">å„²å­˜ä¸¦é—œé–‰</button>
            </div>
        </div>
    </div>
    <script src="src/app.js?v=1.0.2" type="module"></script>
</body>
</html>
